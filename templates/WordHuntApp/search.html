{% extends 'WordHuntApp/base.html' %}
{% load staticfiles %}


{% block title_block %}
	- Search
{% endblock %}

{% block head_block %}
<!-- ALLOW THE SEARCH TOOL TO WORK-->
	<script href="{% static 'js/search_script.js' %}"></script>
	<link href="{% static 'css/search_style.css' %}" rel="stylesheet" type="text/css">
{% endblock %}

{% block body_block %}
	<h1 class="lineheight">Search</h1>
	<br />

	<form class="form-inline" action="{% url 'search' %}" method="POST">
		{% csrf_token %}
		{% if query %}
			<input name="query" class="form-control" id="myInput" type="text" class="" value="{{ query }}"/>
		{% else %}
			<input name="query" class="form-control" id="myInput" type="text" class="" placeholder="Search.."/>
		{% endif %}
		<button type="submit" class="btn btn-primary">Search for Users</button>
	</form>
	<br />

	<table class="table table-hover">
		<thead>
			<tr>
				<th class="search_rank">Rank</th>
				<th>Username</th>
				<th class="search_pictures">Number of Pictures</th>
				<th class="search_points">Points</th>
			</tr>
		</thead>
		<tbody id="myTable">
			{% if results %}
				{% for user, n_images in results %}
					<tr class="clickable-row" data-href="{% url 'stats' user %}">
						<td>{{ user.rank }}</td>
						<td><a href="{% url 'stats' user %}">{{ user }}</a></td>
						<td>{{ n_images }}</td>
						<td>{{ user.total_points }}</td>
					</tr>
				{% endfor %}
			{% endif %}
		</tbody>
	</table>

<!-- USING AJAX(?). First check if there is more than 20 users. If yes create a pagination button and when clicked reload user data starting from the next group-->
<!-- TODO: Make this work
	<center>
		<ul class="pagination">
			<li><a href="PART 1">1</a></li>
			<li><a href="PART 2">2</a></li>
			<li><a href="PART 3">3</a></li>
			<li><a href="PART 4">4</a></li>
			<li><a href="PART 5">5</a></li>
		</ul>
	</center>
-->
	<br />
	<a href="{% url 'main' %}">Return to the main page</a> 
{% endblock %}